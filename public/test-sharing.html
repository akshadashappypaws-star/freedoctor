<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Social Media Sharing Preview Tool</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .preview-card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            overflow: hidden;
        }
        .preview-header {
            padding: 15px;
            background: #E7A51B;
            color: white;
            font-weight: bold;
        }
        .preview-content {
            padding: 20px;
        }
        .preview-image {
            width: 100%;
            max-width: 500px;
            height: 260px;
            background: #ddd;
            border-radius: 4px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
        }
        .preview-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }
        .preview-description {
            color: #666;
            line-height: 1.4;
            margin-bottom: 10px;
        }
        .preview-url {
            color: #E7A51B;
            font-size: 14px;
        }
        .test-form {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input[type="url"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        button {
            background: #E7A51B;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background: #d4951a;
        }
        .share-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        .share-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 4px;
            color: white;
            text-decoration: none;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .share-whatsapp { background: #25D366; }
        .share-facebook { background: #1877f2; }
        .share-twitter { background: #1da1f2; }
        .share-telegram { background: #0088cc; }
    </style>
</head>
<body>
    <h1>üîó Social Media Sharing Preview Tool</h1>
    <p>Test how your campaign links will appear when shared on social media platforms.</p>

    <div class="test-form">
        <h3>üìù Test Campaign URL</h3>
        <div class="form-group">
            <label for="campaignUrl">Campaign URL:</label>
            <input type="url" id="campaignUrl" placeholder="http://127.0.0.1:8000/user/campaigns/80/view" value="http://127.0.0.1:8000/user/campaigns/80/view">
        </div>
        <button onclick="testUrl()">üîç Test URL</button>
    </div>

    <!-- Facebook Preview -->
    <div class="preview-card">
        <div class="preview-header">üìò Facebook Preview</div>
        <div class="preview-content">
            <div class="preview-image" id="fb-image">Campaign Image</div>
            <div class="preview-title" id="fb-title">Campaign Title</div>
            <div class="preview-description" id="fb-description">Campaign description will appear here...</div>
            <div class="preview-url" id="fb-url">freedoctor.com</div>
        </div>
    </div>

    <!-- WhatsApp Preview -->
    <div class="preview-card">
        <div class="preview-header">üí¨ WhatsApp Preview</div>
        <div class="preview-content">
            <div class="preview-image" id="wa-image">Campaign Image</div>
            <div class="preview-title" id="wa-title">Campaign Title</div>
            <div class="preview-description" id="wa-description">Full sharing message will appear here...</div>
            <div class="preview-url" id="wa-url">freedoctor.com</div>
        </div>
    </div>

    <!-- Twitter Preview -->
    <div class="preview-card">
        <div class="preview-header">üê¶ Twitter Preview</div>
        <div class="preview-content">
            <div class="preview-image" id="tw-image">Campaign Image</div>
            <div class="preview-title" id="tw-title">Campaign Title</div>
            <div class="preview-description" id="tw-description">Campaign description will appear here...</div>
            <div class="preview-url" id="tw-url">freedoctor.com</div>
        </div>
    </div>

    <!-- Share buttons -->
    <div class="preview-card">
        <div class="preview-header">üöÄ Quick Share</div>
        <div class="preview-content">
            <p>Test sharing on different platforms:</p>
            <div class="share-buttons">
                <a href="#" class="share-btn share-whatsapp" onclick="shareWhatsApp()">
                    üì± WhatsApp
                </a>
                <a href="#" class="share-btn share-facebook" onclick="shareFacebook()">
                    üìò Facebook
                </a>
                <a href="#" class="share-btn share-twitter" onclick="shareTwitter()">
                    üê¶ Twitter
                </a>
                <a href="#" class="share-btn share-telegram" onclick="shareTelegram()">
                    ‚úàÔ∏è Telegram
                </a>
            </div>
        </div>
    </div>

    <script>
        let currentUrl = '';
        let currentTitle = '';
        let currentDescription = '';

        function testUrl() {
            const url = document.getElementById('campaignUrl').value;
            currentUrl = url;
            
            // In a real implementation, you would fetch the page and parse meta tags
            // For demo purposes, we'll simulate the data
            const mockData = {
                title: "Blood Camp Get Low Cost Test - Medical Campaign | FreeDoctor",
                description: "üí° Special Limited-Time Offer! üí°\nStep into a healthier tomorrow!\n\n‚ú® Why Join?\n‚úî Top specialists in one place\n‚úî Affordable health checks\n‚úî Personalized guidance\n‚úî Instant registration confirmation\n\nüìç Location: Mumbai, Maharashtra\nü©∫ Doctor: Dr. Rajesh Kumar\nüí∞ Registration Fee: ‚Çπ50\nüìÖ Date: Aug 25, 2025\n\nü©∫ Tell us which camp you're interested in and we'll send you a custom information pack with everything you need to know.\n\nüíö Because your health can't wait.",
                image: "http://127.0.0.1:8000/storage/campaigns/default-campaign.svg",
                url: url
            };

            currentTitle = mockData.title;
            currentDescription = mockData.description;

            // Update Facebook preview
            document.getElementById('fb-title').textContent = mockData.title;
            document.getElementById('fb-description').textContent = mockData.description.substring(0, 300) + '...';
            document.getElementById('fb-url').textContent = new URL(url).hostname;
            document.getElementById('fb-image').innerHTML = `<img src="${mockData.image}" style="width:100%;height:100%;object-fit:cover;" onerror="this.style.display='none';this.parentNode.textContent='Campaign Image';">`;

            // Update WhatsApp preview
            document.getElementById('wa-title').textContent = mockData.title;
            document.getElementById('wa-description').textContent = mockData.description;
            document.getElementById('wa-url').textContent = new URL(url).hostname;
            document.getElementById('wa-image').innerHTML = `<img src="${mockData.image}" style="width:100%;height:100%;object-fit:cover;" onerror="this.style.display='none';this.parentNode.textContent='Campaign Image';">`;

            // Update Twitter preview
            document.getElementById('tw-title').textContent = mockData.title;
            document.getElementById('tw-description').textContent = mockData.description.substring(0, 200) + '...';
            document.getElementById('tw-url').textContent = new URL(url).hostname;
            document.getElementById('tw-image').innerHTML = `<img src="${mockData.image}" style="width:100%;height:100%;object-fit:cover;" onerror="this.style.display='none';this.parentNode.textContent='Campaign Image';">`;
        }

        function shareWhatsApp() {
            const text = encodeURIComponent(currentDescription + '\n\n' + currentUrl);
            window.open(`https://wa.me/?text=${text}`, '_blank');
        }

        function shareFacebook() {
            const url = encodeURIComponent(currentUrl);
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}`, '_blank');
        }

        function shareTwitter() {
            const text = encodeURIComponent(currentTitle + '\n\n' + currentDescription.substring(0, 200) + '...');
            const url = encodeURIComponent(currentUrl);
            window.open(`https://twitter.com/intent/tweet?text=${text}&url=${url}`, '_blank');
        }

        function shareTelegram() {
            const text = encodeURIComponent(currentDescription + '\n\n' + currentUrl);
            window.open(`https://t.me/share/url?url=${encodeURIComponent(currentUrl)}&text=${text}`, '_blank');
        }

        // Auto-test on page load
        document.addEventListener('DOMContentLoaded', function() {
            testUrl();
        });
    </script>
</body>
</html>
