<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>@yield('title', 'FreeDoctor')</title>
  <meta name="description" content="@yield('description', 'Free medical camps platform')">

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="stylesheet" href="{{ asset('css/app.css') }}">

  <style>
    .glass-effect {
      background: rgba(15, 23, 42, 0.6);
      backdrop-filter: blur(10px);
      border-radius: 0.5rem;
      border: 1px solid rgba(139, 92, 246, 0.3);
      transition: box-shadow 0.3s ease;
    }
    .card-hover:hover {
      box-shadow: 0 0 15px rgba(139, 92, 246, 0.7);
    }
  </style>
</head>
<body class="bg-slate-900 text-white min-h-screen font-sans">

<!-- Mobile Toggle Button -->
<button onclick="toggleSidebar()" class="fixed z-50 top-4 left-4 md:hidden bg-purple-700 p-2 rounded text-white shadow-lg">
  <i class="fas fa-bars text-lg"></i>
</button>

<!-- Layout Container -->
<div class="flex flex-col md:flex-row min-h-screen">

  <!-- Sidebar -->
  <aside id="sidebar" class="w-64 bg-[#0D1224] text-white transform -translate-x-full md:translate-x-0 md:relative fixed md:static z-40 top-0 left-0 h-full md:h-auto md:flex md:flex-col transition-transform duration-300 ease-in-out">
    <!-- Branding -->
    <div class="flex items-center gap-3 px-4 py-5 border-b border-gray-700">
      <img src="https://img.icons8.com/emoji/48/hospital-emoji.png" class="w-8 h-8" />
      <div>
        <h1 class="text-white font-bold text-lg leading-5">FreeDoctor</h1>
        <p class="text-xs text-gray-300">Medical Camps</p>
      </div>
    </div>

    <!-- Navigation -->
    <nav class="flex-1 overflow-y-auto">
      <ul class="space-y-1 px-2 pt-4">
        @php $active = request()->segment(2); @endphp
        @foreach([
          'dashboard' => 'Dashboard',
          'specification' => 'Specification',
          'doctors' => 'Doctors',
          'campaigns' => 'Campaigns',
          'campaign-sponsors' => 'Campaign Sponsors',
          'patients' => 'Patients',
          'doctor-verification' => 'Doctor Verification',
          'notifications' => 'Notifications',
          'subscriptions' => 'Subscriptions',
          'profile' => 'Profile',
        ] as $route => $label)
        <li>
          <a href="{{ url('admin/'.$route) }}" class="flex items-center px-4 py-3 rounded-lg {{ $active === $route ? 'bg-gray-700 font-bold' : 'hover:bg-gray-800' }}">
            <i class="fas fa-{{ match($route) {
              'dashboard' => 'tachometer-alt',
              'specification' => 'list',
              'doctors' => 'user-md',
              'campaigns' => 'bullhorn',
              'campaign-sponsors' => 'hand-holding-usd',
              'patients' => 'procedures',
              'doctor-verification' => 'check-circle',
              'notifications' => 'bell',
              'subscriptions' => 'receipt',
              'profile' => 'user',
            }}} mr-3"></i> {{ $label }}
          </a>
        </li>
        @endforeach
      </ul>
    </nav>

    <!-- Logout -->
    <div class="px-2 mt-4 mb-4">
      <form action="{{ route('admin.logout') }}" method="POST" class="w-full" onsubmit="return confirm('Are you sure you want to logout?')">
        @csrf
        <button type="submit" class="flex items-center w-full px-4 py-3 rounded-lg hover:bg-red-600 text-red-400 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50">
          <i class="fas fa-sign-out-alt mr-3"></i> Logout
        </button>
      </form>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="flex-1 p-4 sm:p-8 mt-16 md:mt-0">
    <div class="p-6 bg-white rounded shadow text-slate-900">
      <h1 class="text-xl font-bold mb-4">@yield('title', '[Page Title]')</h1>
      @yield('content', '<p>This is the admin page content.</p>')
    </div>
  </main>

</div>

<script>
  function toggleSidebar() {
    const sidebar = document.getElementById('sidebar');
    sidebar.classList.toggle('-translate-x-full');
  }
</script>

<script src="{{ asset('js/app.js') }}"></script>
</body>
</html>
